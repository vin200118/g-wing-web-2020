(this["webpackJsonpg-wing-web-2020"]=this["webpackJsonpg-wing-web-2020"]||[]).push([[0],{129:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(8),s=a.n(o),r=(a(82),a(12)),i=a(13),c=a(15),u=a(14),m=a(16),d=(a(55),a(17)),h=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).logoutfun=a.logoutfun.bind(Object(d.a)(a)),a.openLeftMenu=a.openLeftMenu.bind(Object(d.a)(a)),a.closeLeftMenu=a.closeLeftMenu.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"openLeftMenu",value:function(){this.setState({dummy:"empty"}),document.getElementById("leftMenu").style.display="block"}},{key:"closeLeftMenu",value:function(){document.getElementById("leftMenu").style.display="none",this.setState({dummy:"empty"})}},{key:"logoutfun",value:function(){document.getElementById("leftMenu").style.display="none",this.setState({dummy:"empty"}),window.localStorage.setItem("userDetails","")}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"w3-sidebar w3-bar-block w3-card w3-animate-left",style:{display:"none"},id:"leftMenu"},l.a.createElement("button",{id:"closeButton",onClick:this.closeLeftMenu,className:"w3-bar-item w3-button w3-small"},"Close \xd7"),null===window.localStorage.getItem("userDetails")||""===window.localStorage.getItem("userDetails")?l.a.createElement("div",null,l.a.createElement("a",{onClick:this.closeLeftMenu,href:"#/registration",className:"w3-bar-item w3-button"},"Sign up"),l.a.createElement("a",{onClick:this.closeLeftMenu,href:"#/login",className:"w3-bar-item w3-button"},"Log in")):l.a.createElement("div",null,l.a.createElement("a",{onClick:this.closeLeftMenu,href:"#/home",className:"w3-bar-item w3-button"},"Home"),l.a.createElement("a",{onClick:this.closeLeftMenu,href:"#/registration",className:"w3-bar-item w3-button"},"Profile"),l.a.createElement("a",{onClick:this.logoutfun,href:"#/login",className:"w3-bar-item w3-button"},"Logout"))),l.a.createElement("div",{className:"w3-teal"},l.a.createElement("button",{className:"w3-button w3-teal w3-xlarge w3-left",onClick:this.openLeftMenu},"\u2630"),l.a.createElement("span",{className:"headerTitle"},"G Wing")))}}]),t}(l.a.Component),v=a(42),p=a(29),G=a(43),g=a(39),f=a.n(g),E=a(160),w=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.variant,a=e.message;return l.a.createElement("div",null,null!=a?l.a.createElement(E.a,{variant:t},a):"")}}]),t}(l.a.Component),b=a(40),N=a.n(b),y=a(162),C=a(161),O=a(155),j=a(159),S=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={password:null,id:0,flatNo:"",fullName:"",newPassword:"",confirmPassword:"",contactNo1:"",contactNo2:"",title:"Profile",submitButtonTitle:"Update",url:"https://tam-g-wing.herokuapp.com/gwing/api/user"},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleChangeFlatNo=a.handleChangeFlatNo.bind(Object(d.a)(a)),a.signUp=a.signUp.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){if(null!=window.localStorage.getItem("userDetails")&&""!=window.localStorage.getItem("userDetails")){var e=JSON.parse(window.localStorage.getItem("userDetails"));this.state.newPassword=window.localStorage.getItem("password"),this.setState({flatNo:e.flat_no,fullName1:e.full_name,fullName:e.full_name,confirmPassword:window.localStorage.getItem("password"),newPassword:window.localStorage.getItem("password"),contactNo1:e.contact_no1,contactNo2:e.contact_no2,title:"Profile",id:e.user_id,submitButtonTitle:"Update",url:"https://tam-g-wing.herokuapp.com/gwing/api/user/update"})}else this.setState({title:"Sign Up",submitButtonTitle:"Sign Up",id:0,url:"https://tam-g-wing.herokuapp.com/gwing/api/user"})}},{key:"handleChange",value:function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&this.setState(Object(G.a)({},e.target.id,e.target.value.trim()))}},{key:"handleChangeFullName",value:function(e){this.setState(Object(G.a)({},e.target.id,e.target.value.trim())),0!=this.state.id&&"fullName"===e.target.id&&this.setState({fullName1:e.target.value})}},{key:"handleChangeFlatNo",value:function(e){this.setState({flatNo:e.target.value})}},{key:"signUp",value:function(){var e=this;this.setState({loader:!0});""!==this.state.flatNo?""!==this.state.newPassword?""!==this.state.confirmPassword?""!==this.state.fullName?""!==this.state.contactNo1?""!==this.state.contactNo2?this.state.newPassword===this.state.confirmPassword?(this.setState({message:"",variant:""}),console.log("flatNo : "+this.state.flatNo),console.log("fullName : "+this.state.fullName),console.log("password : "+this.state.newPassword),console.log("contactNo1 : "+this.state.contactNo1),console.log("contactNo2 : "+this.state.contactNo2),f.a.post(this.state.url,{flatNo:this.state.flatNo,password:this.state.newPassword,fullName:this.state.fullName,contactNo1:this.state.contactNo1,id:this.state.id,contactNo2:this.state.contactNo2},{headers:{"Content-Type":"application/json"}}).then((function(t){if(0!=e.state.id){var a={flat_no:e.state.flatNo,password:e.state.newPassword,full_name:e.state.fullName,contact_no1:e.state.contactNo1,id:e.state.id,contact_no2:e.state.contactNo2};window.localStorage.setItem("userDetails",JSON.stringify(a)),e.setState({message:"Profile updated successfully.",variant:"success",loader:!1})}else e.props.history.push("/login?signIn=done")})).catch((function(t){void 0!==t.response&&500!=t.response.status?e.setState({message:t.response.data,variant:"danger",loader:!1}):e.setState({message:"ERROR:Registration failed, please contact to Admin",variant:"danger",loader:!1})}))):this.setState({message:"new password and confirm password should be match",variant:"danger",loader:!1}):this.setState({message:"enter contact no2",variant:"danger",loader:!1}):this.setState({message:"enter contact no1",variant:"danger",loader:!1}):this.setState({message:"enter full name",variant:"danger",loader:!1}):this.setState({message:"enter confirm password",variant:"danger",loader:!1}):this.setState({message:"enter new password",variant:"danger",loader:!1}):this.setState({message:"select flat no.",variant:"danger",loader:!1})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"box"},l.a.createElement("h6",{class:"headline"},this.state.title,":"),l.a.createElement(w,{variant:this.state.variant,message:this.state.message}),l.a.createElement("form",{class:"col s12 "},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement(O.a,null,l.a.createElement(y.a,{id:"flatNo-label"},"Flot No"),l.a.createElement(j.a,{style:{width:140},labelId:"flatNo-label",id:"flatNo",value:this.state.flatNo,onChange:this.handleChangeFlatNo},l.a.createElement(C.a,{value:"G-101"},"G-101"),l.a.createElement(C.a,{value:"G-102"},"G-102"),l.a.createElement(C.a,{value:"G-103"},"G-103"),l.a.createElement(C.a,{value:"G-104"},"G-104"),l.a.createElement(C.a,{value:"G-201"},"G-201"),l.a.createElement(C.a,{value:"G-202"},"G-202"),l.a.createElement(C.a,{value:"G-203"},"G-203"),l.a.createElement(C.a,{value:"G-204"},"G-204"),l.a.createElement(C.a,{value:"G-301"},"G-301"),l.a.createElement(C.a,{value:"G-302"},"G-302"),l.a.createElement(C.a,{value:"G-303"},"G-303"),l.a.createElement(C.a,{value:"G-304"},"G-304"),l.a.createElement(C.a,{value:"G-401"},"G-401"),l.a.createElement(C.a,{value:"G-402"},"G-402"),l.a.createElement(C.a,{value:"G-403"},"G-403"),l.a.createElement(C.a,{value:"G-404"},"G-404"),l.a.createElement(C.a,{value:"G-501"},"G-501"),l.a.createElement(C.a,{value:"G-502"},"G-502"),l.a.createElement(C.a,{value:"G-503"},"G-503"),l.a.createElement(C.a,{value:"G-504"},"G-504"),l.a.createElement(C.a,{value:"G-601"},"G-601"),l.a.createElement(C.a,{value:"G-602"},"G-602"),l.a.createElement(C.a,{value:"G-603"},"G-603"),l.a.createElement(C.a,{value:"G-604"},"G-604"),l.a.createElement(C.a,{value:"G-701"},"G-701"),l.a.createElement(C.a,{value:"G-702"},"G-702"),l.a.createElement(C.a,{value:"G-703"},"G-703"),l.a.createElement(C.a,{value:"G-704"},"G-704"),l.a.createElement(C.a,{value:"G-801"},"G-801"),l.a.createElement(C.a,{value:"G-802"},"G-802"),l.a.createElement(C.a,{value:"G-803"},"G-803"),l.a.createElement(C.a,{value:"G-804"},"G-804"),l.a.createElement(C.a,{value:"G-901"},"G-901"),l.a.createElement(C.a,{value:"G-902"},"G-902"),l.a.createElement(C.a,{value:"G-903"},"G-903"),l.a.createElement(C.a,{value:"G-904"},"G-904"),l.a.createElement(C.a,{value:"G-1001"},"G-1001"),l.a.createElement(C.a,{value:"G-1002"},"G-1002"),l.a.createElement(C.a,{value:"G-1003"},"G-1003"),l.a.createElement(C.a,{value:"G-1004"},"G-1004"),l.a.createElement(C.a,{value:"G-1101"},"G-1101"),l.a.createElement(C.a,{value:"G-1102"},"G-1102"),l.a.createElement(C.a,{value:"G-1103"},"G-1103"),l.a.createElement(C.a,{value:"G-1104"},"G-1104"),l.a.createElement(C.a,{value:"G-1201"},"G-1201"),l.a.createElement(C.a,{value:"G-1202"},"G-1202"),l.a.createElement(C.a,{value:"G-1203"},"G-1203"),l.a.createElement(C.a,{value:"G-1204"},"G-1204"))))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{id:"newPassword",value:this.state.newPassword,maxlength:"4",type:"text",class:"validate",onChange:function(t){return e.handleChange(t)}}),l.a.createElement("label",{for:"newPassword"},"New Password"))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{id:"confirmPassword",value:this.state.confirmPassword,maxlength:"4",type:"text",class:"validate",onChange:function(t){return e.handleChange(t)}}),l.a.createElement("label",{for:"confirmPassword"},"Confirm Password"))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{id:"fullName",value:this.state.fullName1,type:"text",class:"validate",onChange:function(t){return e.handleChangeFullName(t)}}),l.a.createElement("label",{for:"fullName"},"Full Name"))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{id:"contactNo1",value:this.state.contactNo1,maxlength:"10",type:"text",class:"validate",onChange:function(t){return e.handleChange(t)}}),l.a.createElement("label",{for:"contactNo1"},"Contact No1"))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{id:"contactNo2",value:this.state.contactNo2,type:"text",maxlength:"10",onChange:function(t){return e.handleChange(t)}}),l.a.createElement("label",{for:"contactNo2"},"Contact No2"))),l.a.createElement("a",{class:"waves-effect waves-light btn-small",onClick:this.signUp},this.state.submitButtonTitle),l.a.createElement("div",{className:"spinnerEvent"},this.state.loader?l.a.createElement(N.a,{name:"three-bounce",color:"Black"}):"")))}}]),t}(l.a.Component),k=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={password:null,flatNo:""},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleChangeFlatNo=a.handleChangeFlatNo.bind(Object(d.a)(a)),a.login=a.login.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){void 0!=this.props.location.search&&this.props.location.search.includes("done")&&this.setState({message:"You are done with the singup.",variant:"success",loader:!1})}},{key:"handleChange",value:function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&this.setState(Object(G.a)({},e.target.id,e.target.value.trim()))}},{key:"handleChangeFlatNo",value:function(e){this.setState({flatNo:e.target.value})}},{key:"login",value:function(){var e=this;this.setState({loader:!0});f.a.post("https://tam-g-wing.herokuapp.com/gwing/api/user-login",{flatNo:this.state.flatNo,password:this.state.password},{headers:{"Content-Type":"application/json"}}).then((function(t){window.localStorage.setItem("userDetails",JSON.stringify(t.data)),window.localStorage.setItem("password",e.state.password),e.props.history.push("/home")})).catch((function(t){void 0!==t.response&&401===t.response.status?e.setState({message:t.response.data,variant:"danger",loader:!1}):e.setState({message:"ERROR:Registration failed, please contact to Admin",variant:"danger",loader:!1})}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"box"},l.a.createElement("h6",{class:"headline"},"Log in to your account:"),l.a.createElement("form",{class:"col s12"},l.a.createElement(w,{variant:this.state.variant,message:this.state.message}),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement(O.a,null,l.a.createElement(y.a,{id:"flatNo-label"},"Flat No"),l.a.createElement(j.a,{style:{width:140},labelId:"flatNo-label",id:"flatNo",value:this.state.flatNo,onChange:this.handleChangeFlatNo},l.a.createElement("option",{value:"G-101"},"G-101"),l.a.createElement("option",{value:"G-102"},"G-102"),l.a.createElement("option",{value:"G-103"},"G-103"),l.a.createElement("option",{value:"G-104"},"G-104"),l.a.createElement("option",{value:"G-201"},"G-201"),l.a.createElement("option",{value:"G-202"},"G-202"),l.a.createElement("option",{value:"G-203"},"G-203"),l.a.createElement("option",{value:"G-204"},"G-204"),l.a.createElement("option",{value:"G-301"},"G-301"),l.a.createElement("option",{value:"G-302"},"G-302"),l.a.createElement("option",{value:"G-303"},"G-303"),l.a.createElement("option",{value:"G-304"},"G-304"),l.a.createElement("option",{value:"G-401"},"G-401"),l.a.createElement("option",{value:"G-402"},"G-402"),l.a.createElement("option",{value:"G-403"},"G-403"),l.a.createElement("option",{value:"G-404"},"G-404"),l.a.createElement("option",{value:"G-501"},"G-501"),l.a.createElement("option",{value:"G-502"},"G-502"),l.a.createElement("option",{value:"G-503"},"G-503"),l.a.createElement("option",{value:"G-504"},"G-504"),l.a.createElement("option",{value:"G-601"},"G-601"),l.a.createElement("option",{value:"G-602"},"G-602"),l.a.createElement("option",{value:"G-603"},"G-603"),l.a.createElement("option",{value:"G-604"},"G-604"),l.a.createElement("option",{value:"G-701"},"G-701"),l.a.createElement("option",{value:"G-702"},"G-702"),l.a.createElement("option",{value:"G-703"},"G-703"),l.a.createElement("option",{value:"G-704"},"G-704"),l.a.createElement("option",{value:"G-801"},"G-801"),l.a.createElement("option",{value:"G-802"},"G-802"),l.a.createElement("option",{value:"G-803"},"G-803"),l.a.createElement("option",{value:"G-804"},"G-804"),l.a.createElement("option",{value:"G-901"},"G-901"),l.a.createElement("option",{value:"G-902"},"G-902"),l.a.createElement("option",{value:"G-903"},"G-903"),l.a.createElement("option",{value:"G-904"},"G-904"),l.a.createElement("option",{value:"G-1001"},"G-1001"),l.a.createElement("option",{value:"G-1002"},"G-1002"),l.a.createElement("option",{value:"G-1003"},"G-1003"),l.a.createElement("option",{value:"G-1004"},"G-1004"),l.a.createElement("option",{value:"G-1101"},"G-1101"),l.a.createElement("option",{value:"G-1102"},"G-1102"),l.a.createElement("option",{value:"G-1103"},"G-1103"),l.a.createElement("option",{value:"G-1104"},"G-1104"),l.a.createElement("option",{value:"G-1201"},"G-1201"),l.a.createElement("option",{value:"G-1202"},"G-1202"),l.a.createElement("option",{value:"G-1203"},"G-1203"),l.a.createElement("option",{value:"G-1204"},"G-1204"))))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"input-field col s3"},l.a.createElement("input",{id:"password",maxlength:"4",type:"password",class:"validate",onChange:function(t){return e.handleChange(t)}}),l.a.createElement("label",{for:"password"},"Password"))),l.a.createElement("a",{class:"waves-effect waves-light btn-small",onClick:this.login},"Log In"),l.a.createElement("div",{className:"spinnerEvent"},this.state.loader?l.a.createElement(N.a,{name:"three-bounce",color:"Black"}):"")))}}]),t}(l.a.Component),P=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null," Welcome to Tamarind park G wing...")}}]),t}(l.a.Component),I=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(v.a,null,l.a.createElement("main",null,l.a.createElement("div",{className:"content"},l.a.createElement(v.a,null,l.a.createElement(p.a,{path:"/registration",component:S}),l.a.createElement(p.a,{path:"/login",component:k}),l.a.createElement(p.a,{path:"/home",component:P})))))}}]),t}(l.a.Component),L=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"page"},l.a.createElement(h,null),l.a.createElement(I,null))}}]),t}(l.a.Component),M=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function x(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(128);s.a.render(l.a.createElement(L,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");M?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):x(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):x(t,e)}))}}()},55:function(e,t,a){},77:function(e,t,a){e.exports=a(129)},82:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.c03de257.chunk.js.map