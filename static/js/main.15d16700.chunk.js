(this["webpackJsonpg-wing-web-2020"]=this["webpackJsonpg-wing-web-2020"]||[]).push([[0],{129:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),s=t(8),r=t.n(s),o=(t(82),t(11)),c=t(12),i=t(15),u=t(13),m=t(14),d=(t(55),t(17)),h=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).logoutfun=t.logoutfun.bind(Object(d.a)(t)),t.openLeftMenu=t.openLeftMenu.bind(Object(d.a)(t)),t.closeLeftMenu=t.closeLeftMenu.bind(Object(d.a)(t)),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"openLeftMenu",value:function(){this.setState({dummy:"empty"}),document.getElementById("leftMenu").style.display="block"}},{key:"closeLeftMenu",value:function(){document.getElementById("leftMenu").style.display="none",this.setState({dummy:"empty"})}},{key:"logoutfun",value:function(){document.getElementById("leftMenu").style.display="none",this.setState({dummy:"empty"}),window.localStorage.setItem("userDetails","")}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"w3-sidebar w3-bar-block w3-card w3-animate-left",style:{display:"none"},id:"leftMenu"},l.a.createElement("button",{id:"closeButton",onClick:this.closeLeftMenu,className:"w3-bar-item w3-button w3-small"},"Close \xd7"),null===window.localStorage.getItem("userDetails")||""===window.localStorage.getItem("userDetails")?l.a.createElement("div",null,l.a.createElement("a",{onClick:this.closeLeftMenu,href:"#/registration",className:"w3-bar-item w3-button menu-link"},"Sign up"),l.a.createElement("a",{onClick:this.closeLeftMenu,href:"#/login",className:"w3-bar-item w3-button menu-link"},"Log in")):l.a.createElement("div",null,l.a.createElement("a",{onClick:this.closeLeftMenu,href:"#/home",className:"w3-bar-item w3-button menu-link"},"Home"),l.a.createElement("a",{onClick:this.closeLeftMenu,href:"#/userList",className:"w3-bar-item w3-button menu-link"},"Users"),l.a.createElement("a",{onClick:this.closeLeftMenu,href:"#/registration",className:"w3-bar-item w3-button menu-link"},"Profile"),l.a.createElement("a",{onClick:this.logoutfun,href:"#/login",className:"w3-bar-item w3-button menu-link"},"Logout"))),l.a.createElement("div",{className:"w3-teal"},l.a.createElement("button",{className:"w3-button w3-teal w3-xlarge w3-left",onClick:this.openLeftMenu},"\u2630"),l.a.createElement("span",{className:"headerTitle"},"Tamarind park - G Wing")))}}]),a}(l.a.Component),v=t(42),E=t(30),g=t(43),f=t(31),G=t.n(f),p=t(160),w=function(e){function a(){return Object(o.a)(this,a),Object(i.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this.props,a=e.variant,t=e.message;return l.a.createElement("div",null,null!=t?l.a.createElement(p.a,{variant:a},t):"")}}]),a}(l.a.Component),b=t(26),N=t.n(b),y=t(162),k=t(161),O=t(155),C=t(159),j=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).state={password:null,id:0,flatNo:"",fullName:"",newPassword:"",confirmPassword:"",contactNo1:"",contactNo2:"",title:"Profile",submitButtonTitle:"Update",url:"https://tam-g-wing.herokuapp.com/gwing/api/user"},t.handleChange=t.handleChange.bind(Object(d.a)(t)),t.handleChangeFlatNo=t.handleChangeFlatNo.bind(Object(d.a)(t)),t.signUp=t.signUp.bind(Object(d.a)(t)),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"componentWillMount",value:function(){if(null!=window.localStorage.getItem("userDetails")&&""!=window.localStorage.getItem("userDetails")){var e=JSON.parse(window.localStorage.getItem("userDetails"));this.state.newPassword=window.localStorage.getItem("password"),this.setState({flatNo:e.flat_no,fullName1:e.full_name,fullName:e.full_name,confirmPassword:window.localStorage.getItem("password"),newPassword:window.localStorage.getItem("password"),contactNo1:e.contact_no1,contactNo2:e.contact_no2,title:"Profile",id:e.user_id,submitButtonTitle:"Update",url:"https://tam-g-wing.herokuapp.com/gwing/api/user/update"})}else this.setState({title:"Sign Up",submitButtonTitle:"Sign Up",id:0,url:"https://tam-g-wing.herokuapp.com/gwing/api/user"})}},{key:"handleChange",value:function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&this.setState(Object(g.a)({},e.target.id,e.target.value.trim()))}},{key:"handleChangeFullName",value:function(e){this.setState(Object(g.a)({},e.target.id,e.target.value.trim())),0!=this.state.id&&"fullName"===e.target.id&&this.setState({fullName1:e.target.value})}},{key:"handleChangeFlatNo",value:function(e){this.setState({flatNo:e.target.value})}},{key:"signUp",value:function(){var e=this;this.setState({loader:!0});""!==this.state.flatNo?""!==this.state.newPassword?""!==this.state.confirmPassword?""!==this.state.fullName?""!==this.state.contactNo1?this.state.newPassword===this.state.confirmPassword?(this.setState({message:"",variant:""}),G.a.post(this.state.url,{flatNo:this.state.flatNo,password:this.state.newPassword,fullName:this.state.fullName,contactNo1:this.state.contactNo1,id:this.state.id,contactNo2:this.state.contactNo2},{headers:{"Content-Type":"application/json"}}).then((function(a){if(0!=e.state.id){var t={flat_no:e.state.flatNo,password:e.state.newPassword,full_name:e.state.fullName,contact_no1:e.state.contactNo1,id:e.state.id,contact_no2:e.state.contactNo2};window.localStorage.setItem("userDetails",JSON.stringify(t)),e.setState({message:"Profile updated successfully.",variant:"success",loader:!1})}else e.props.history.push("/login?signIn=done")})).catch((function(a){void 0!==a.response&&500!=a.response.status?e.setState({message:a.response.data,variant:"danger",loader:!1}):e.setState({message:"ERROR:Registration failed, please contact to Admin",variant:"danger",loader:!1})}))):this.setState({message:"new password and confirm password should be match",variant:"danger",loader:!1}):this.setState({message:"enter contact no1",variant:"danger",loader:!1}):this.setState({message:"enter full name",variant:"danger",loader:!1}):this.setState({message:"enter confirm password",variant:"danger",loader:!1}):this.setState({message:"enter new password",variant:"danger",loader:!1}):this.setState({message:"select flat no.",variant:"danger",loader:!1})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"box"},l.a.createElement("h6",{class:"headline"},this.state.title," ",l.a.createElement("div",{className:"spinnerEvent"},this.state.loader?l.a.createElement(N.a,{name:"three-bounce",color:"Black"}):"")),l.a.createElement(w,{variant:this.state.variant,message:this.state.message}),l.a.createElement("form",{class:"col s12 "},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement(O.a,null,l.a.createElement(y.a,{id:"flatNo-label"},"Flat No"),l.a.createElement(C.a,{style:{width:140},labelId:"flatNo-label",id:"flatNo",required:"true",value:this.state.flatNo,onChange:this.handleChangeFlatNo},l.a.createElement(k.a,{value:"G-101"},"G-101"),l.a.createElement(k.a,{value:"G-102"},"G-102"),l.a.createElement(k.a,{value:"G-103"},"G-103"),l.a.createElement(k.a,{value:"G-104"},"G-104"),l.a.createElement(k.a,{value:"G-201"},"G-201"),l.a.createElement(k.a,{value:"G-202"},"G-202"),l.a.createElement(k.a,{value:"G-203"},"G-203"),l.a.createElement(k.a,{value:"G-204"},"G-204"),l.a.createElement(k.a,{value:"G-301"},"G-301"),l.a.createElement(k.a,{value:"G-302"},"G-302"),l.a.createElement(k.a,{value:"G-303"},"G-303"),l.a.createElement(k.a,{value:"G-304"},"G-304"),l.a.createElement(k.a,{value:"G-401"},"G-401"),l.a.createElement(k.a,{value:"G-402"},"G-402"),l.a.createElement(k.a,{value:"G-403"},"G-403"),l.a.createElement(k.a,{value:"G-404"},"G-404"),l.a.createElement(k.a,{value:"G-501"},"G-501"),l.a.createElement(k.a,{value:"G-502"},"G-502"),l.a.createElement(k.a,{value:"G-503"},"G-503"),l.a.createElement(k.a,{value:"G-504"},"G-504"),l.a.createElement(k.a,{value:"G-601"},"G-601"),l.a.createElement(k.a,{value:"G-602"},"G-602"),l.a.createElement(k.a,{value:"G-603"},"G-603"),l.a.createElement(k.a,{value:"G-604"},"G-604"),l.a.createElement(k.a,{value:"G-701"},"G-701"),l.a.createElement(k.a,{value:"G-702"},"G-702"),l.a.createElement(k.a,{value:"G-703"},"G-703"),l.a.createElement(k.a,{value:"G-704"},"G-704"),l.a.createElement(k.a,{value:"G-801"},"G-801"),l.a.createElement(k.a,{value:"G-802"},"G-802"),l.a.createElement(k.a,{value:"G-803"},"G-803"),l.a.createElement(k.a,{value:"G-804"},"G-804"),l.a.createElement(k.a,{value:"G-901"},"G-901"),l.a.createElement(k.a,{value:"G-902"},"G-902"),l.a.createElement(k.a,{value:"G-903"},"G-903"),l.a.createElement(k.a,{value:"G-904"},"G-904"),l.a.createElement(k.a,{value:"G-1001"},"G-1001"),l.a.createElement(k.a,{value:"G-1002"},"G-1002"),l.a.createElement(k.a,{value:"G-1003"},"G-1003"),l.a.createElement(k.a,{value:"G-1004"},"G-1004"),l.a.createElement(k.a,{value:"G-1101"},"G-1101"),l.a.createElement(k.a,{value:"G-1102"},"G-1102"),l.a.createElement(k.a,{value:"G-1103"},"G-1103"),l.a.createElement(k.a,{value:"G-1104"},"G-1104"),l.a.createElement(k.a,{value:"G-1201"},"G-1201"),l.a.createElement(k.a,{value:"G-1202"},"G-1202"),l.a.createElement(k.a,{value:"G-1203"},"G-1203"),l.a.createElement(k.a,{value:"G-1204"},"G-1204"))))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{id:"newPassword",required:"true",value:this.state.newPassword,maxlength:"4",type:"text",class:"validate",onChange:function(a){return e.handleChange(a)}}),l.a.createElement("label",{for:"newPassword"},"New Password"),l.a.createElement("span",{class:"note-message"},"Your password should be four numbers digit"))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{id:"confirmPassword",required:"true",value:this.state.confirmPassword,maxlength:"4",type:"text",class:"validate",onChange:function(a){return e.handleChange(a)}}),l.a.createElement("label",{for:"confirmPassword"},"Confirm Password"),l.a.createElement("span",{class:"note-message"},"Your password should be four numbers digit"))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{id:"fullName",value:this.state.fullName1,required:"true",type:"text",class:"validate",onChange:function(a){return e.handleChangeFullName(a)}}),l.a.createElement("label",{for:"fullName"},"Full Name"))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{id:"contactNo1",value:this.state.contactNo1,required:"true",maxlength:"10",type:"text",class:"validate",onChange:function(a){return e.handleChange(a)}}),l.a.createElement("label",{for:"contactNo1"},"Contact No1"),l.a.createElement("span",{class:"note-message"},"Your contact1 should be ten numbers digit"))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement("input",{id:"contactNo2",value:this.state.contactNo2,type:"text",maxlength:"10",onChange:function(a){return e.handleChange(a)}}),l.a.createElement("label",{for:"contactNo2"},"Contact No2"),l.a.createElement("span",{class:"note-message"},"optional"))),l.a.createElement("a",{class:"waves-effect waves-light btn-small",onClick:this.signUp},this.state.submitButtonTitle),l.a.createElement("div",{className:"spinnerEvent"},this.state.loader?l.a.createElement(N.a,{name:"three-bounce",color:"Black"}):"")))}}]),a}(l.a.Component),S=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).state={password:null,flatNo:""},t.handleChange=t.handleChange.bind(Object(d.a)(t)),t.handleChangeFlatNo=t.handleChangeFlatNo.bind(Object(d.a)(t)),t.login=t.login.bind(Object(d.a)(t)),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"componentWillMount",value:function(){void 0!=this.props.location.search&&this.props.location.search.includes("done")&&this.setState({message:"Your account created successfully...",variant:"success",loader:!1})}},{key:"handleChange",value:function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&this.setState(Object(g.a)({},e.target.id,e.target.value.trim()))}},{key:"handleChangeFlatNo",value:function(e){this.setState({flatNo:e.target.value})}},{key:"login",value:function(){var e=this;this.setState({loader:!0});G.a.post("https://tam-g-wing.herokuapp.com/gwing/api/user-login",{flatNo:this.state.flatNo,password:this.state.password},{headers:{"Content-Type":"application/json"}}).then((function(a){window.localStorage.setItem("userDetails",JSON.stringify(a.data)),window.localStorage.setItem("password",e.state.password),e.props.history.push("/home")})).catch((function(a){void 0!==a.response&&500!=a.response.status?e.setState({message:a.response.data,variant:"danger",loader:!1}):e.setState({message:"ERROR:Registration failed, please contact to Admin",variant:"danger",loader:!1})}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"box"},l.a.createElement("h6",{class:"headline"},"Log in to your account"),l.a.createElement("form",{class:"col s12"},l.a.createElement(w,{variant:this.state.variant,message:this.state.message}),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"input-field col s6"},l.a.createElement(O.a,null,l.a.createElement(y.a,{id:"flatNo-label"},"Flat No"),l.a.createElement(C.a,{style:{width:140},labelId:"flatNo-label",id:"flatNo",value:this.state.flatNo,onChange:this.handleChangeFlatNo},l.a.createElement(k.a,{value:"G-101"},"G-101"),l.a.createElement(k.a,{value:"G-102"},"G-102"),l.a.createElement(k.a,{value:"G-103"},"G-103"),l.a.createElement(k.a,{value:"G-104"},"G-104"),l.a.createElement(k.a,{value:"G-201"},"G-201"),l.a.createElement(k.a,{value:"G-202"},"G-202"),l.a.createElement(k.a,{value:"G-203"},"G-203"),l.a.createElement(k.a,{value:"G-204"},"G-204"),l.a.createElement(k.a,{value:"G-301"},"G-301"),l.a.createElement(k.a,{value:"G-302"},"G-302"),l.a.createElement(k.a,{value:"G-303"},"G-303"),l.a.createElement(k.a,{value:"G-304"},"G-304"),l.a.createElement(k.a,{value:"G-401"},"G-401"),l.a.createElement(k.a,{value:"G-402"},"G-402"),l.a.createElement(k.a,{value:"G-403"},"G-403"),l.a.createElement(k.a,{value:"G-404"},"G-404"),l.a.createElement(k.a,{value:"G-501"},"G-501"),l.a.createElement(k.a,{value:"G-502"},"G-502"),l.a.createElement(k.a,{value:"G-503"},"G-503"),l.a.createElement(k.a,{value:"G-504"},"G-504"),l.a.createElement(k.a,{value:"G-601"},"G-601"),l.a.createElement(k.a,{value:"G-602"},"G-602"),l.a.createElement(k.a,{value:"G-603"},"G-603"),l.a.createElement(k.a,{value:"G-604"},"G-604"),l.a.createElement(k.a,{value:"G-701"},"G-701"),l.a.createElement(k.a,{value:"G-702"},"G-702"),l.a.createElement(k.a,{value:"G-703"},"G-703"),l.a.createElement(k.a,{value:"G-704"},"G-704"),l.a.createElement(k.a,{value:"G-801"},"G-801"),l.a.createElement(k.a,{value:"G-802"},"G-802"),l.a.createElement(k.a,{value:"G-803"},"G-803"),l.a.createElement(k.a,{value:"G-804"},"G-804"),l.a.createElement(k.a,{value:"G-901"},"G-901"),l.a.createElement(k.a,{value:"G-902"},"G-902"),l.a.createElement(k.a,{value:"G-903"},"G-903"),l.a.createElement(k.a,{value:"G-904"},"G-904"),l.a.createElement(k.a,{value:"G-1001"},"G-1001"),l.a.createElement(k.a,{value:"G-1002"},"G-1002"),l.a.createElement(k.a,{value:"G-1003"},"G-1003"),l.a.createElement(k.a,{value:"G-1004"},"G-1004"),l.a.createElement(k.a,{value:"G-1101"},"G-1101"),l.a.createElement(k.a,{value:"G-1102"},"G-1102"),l.a.createElement(k.a,{value:"G-1103"},"G-1103"),l.a.createElement(k.a,{value:"G-1104"},"G-1104"),l.a.createElement(k.a,{value:"G-1201"},"G-1201"),l.a.createElement(k.a,{value:"G-1202"},"G-1202"),l.a.createElement(k.a,{value:"G-1203"},"G-1203"),l.a.createElement(k.a,{value:"G-1204"},"G-1204"))))),l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"input-field col s3"},l.a.createElement("input",{id:"password",maxlength:"4",type:"password",class:"validate",onChange:function(a){return e.handleChange(a)}}),l.a.createElement("label",{for:"password"},"Password"),l.a.createElement("span",{class:"note-message"},"Your password should be four numbers digit"))),l.a.createElement("a",{class:"waves-effect waves-light btn-small",onClick:this.login},"Log In"),l.a.createElement("div",{className:"spinnerEvent"},this.state.loader?l.a.createElement(N.a,{name:"three-bounce",color:"Black"}):"")))}}]),a}(l.a.Component),P=function(e){function a(){return Object(o.a)(this,a),Object(i.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null," Welcome to Tamarind park G wing... click on left side bar to see menu options")}}]),a}(l.a.Component),L=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(i.a)(this,Object(u.a)(a).call(this,e))).state={data:[]},t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this;this.setState({loader:!0}),G.a.get("https://tam-g-wing.herokuapp.com/gwing/api/user").then((function(a){e.setState({data:a.data,loader:!1})})).catch((function(a){void 0!==a.response&&500!=a.response.status?e.setState({message:a.response.data,variant:"danger",loader:!1}):e.setState({message:"ERROR:Registration failed, please contact to Admin",variant:"danger",loader:!1})}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h6",{class:"headline"},"List of Flat Owners:  ",l.a.createElement("div",{className:"spinnerEvent"},this.state.loader?l.a.createElement(N.a,{name:"three-bounce",color:"Black"}):"")),l.a.createElement(w,{variant:this.state.variant,message:this.state.message}),l.a.createElement("table",{class:"striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"No"),l.a.createElement("th",null,"Flat No"),l.a.createElement("th",null,"Full Name"),l.a.createElement("th",null,"Contact No1"),l.a.createElement("th",null,"Contact No2"))),l.a.createElement("tbody",null,this.state.data.map((function(e,a){return l.a.createElement("tr",{key:a++},l.a.createElement("td",null,a),l.a.createElement("td",null,e.flat_no),l.a.createElement("td",null,e.full_name),l.a.createElement("td",null,e.contact_no1),l.a.createElement("td",null,e.contact_no2))})))))}}]),a}(l.a.Component),I=function(e){function a(){return Object(o.a)(this,a),Object(i.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement(v.a,null,l.a.createElement("main",null,l.a.createElement("div",{className:"content"},l.a.createElement(v.a,null,l.a.createElement(E.a,{path:"/registration",component:j}),l.a.createElement(E.a,{path:"/login",component:S}),l.a.createElement(E.a,{path:"/home",component:P}),l.a.createElement(E.a,{path:"/userList",component:L})))))}}]),a}(l.a.Component),M=function(e){function a(){return Object(o.a)(this,a),Object(i.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"page"},l.a.createElement(h,null),l.a.createElement(I,null))}}]),a}(l.a.Component),F=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function x(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}t(128);r.a.render(l.a.createElement(M,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("","/service-worker.js");F?(!function(e,a){fetch(e).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):x(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):x(a,e)}))}}()},55:function(e,a,t){},77:function(e,a,t){e.exports=t(129)},82:function(e,a,t){}},[[77,1,2]]]);
//# sourceMappingURL=main.15d16700.chunk.js.map